<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>11&nbsp; Vertical innovations and Model of Quality Ladders (Grossman-Helpman ,1991; Aghion and Howitt 1992) – Notes in Economic Growth and Fluctuations</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./horizontal-innovations.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./AK.html">Endogenous Growth Theory</a></li><li class="breadcrumb-item"><a href="./vertical-innovations.html"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Vertical innovations and Model of Quality Ladders (Grossman-Helpman ,1991; Aghion and Howitt 1992)</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Notes in Economic Growth and Fluctuations</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Methods</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ODE.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Ordinary Differentials Equations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./differenceq.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Difference Equations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Intertemporal-Optimization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Intertemporal Optimization</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Benchmark Models in Growth and Fluctuations Theory</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Solow.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">The Solow Model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Ramsey.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">The Ramsey-Cass-Koopmans Model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./OLG.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">The Overlapping Generations Model</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Endogenous Growth Theory</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./AK.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">The AK model - Spillovers à la Romer(1986)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./humanK.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Human capital and Growth (Lucas, 1988)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./horizontal-innovations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Horizontal Innovations and Model of Expanding Varieties (Romer, 1990)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./vertical-innovations.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Vertical innovations and Model of Quality Ladders (Grossman-Helpman ,1991; Aghion and Howitt 1992)</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">11.1</span> Introduction</a></li>
  <li><a href="#the-model" id="toc-the-model" class="nav-link" data-scroll-target="#the-model"><span class="header-section-number">11.2</span> The Model</a></li>
  <li><a href="#market-equilibrium" id="toc-market-equilibrium" class="nav-link" data-scroll-target="#market-equilibrium"><span class="header-section-number">11.3</span> Market equilibrium</a>
  <ul class="collapse">
  <li><a href="#final-goods-production" id="toc-final-goods-production" class="nav-link" data-scroll-target="#final-goods-production"><span class="header-section-number">11.3.1</span> Final goods production</a></li>
  <li><a href="#capital-goods-production" id="toc-capital-goods-production" class="nav-link" data-scroll-target="#capital-goods-production"><span class="header-section-number">11.3.2</span> Capital goods production</a></li>
  <li><a href="#the-r-d-sector" id="toc-the-r-d-sector" class="nav-link" data-scroll-target="#the-r-d-sector"><span class="header-section-number">11.3.3</span> the <span class="math inline">\(R\&amp; D\)</span> Sector</a></li>
  </ul></li>
  <li><a href="#balanced-growth-path" id="toc-balanced-growth-path" class="nav-link" data-scroll-target="#balanced-growth-path"><span class="header-section-number">11.4</span> Balanced growth path</a></li>
  <li><a href="#further-comments" id="toc-further-comments" class="nav-link" data-scroll-target="#further-comments"><span class="header-section-number">11.5</span> Further comments</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./AK.html">Endogenous Growth Theory</a></li><li class="breadcrumb-item"><a href="./vertical-innovations.html"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Vertical innovations and Model of Quality Ladders (Grossman-Helpman ,1991; Aghion and Howitt 1992)</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Vertical innovations and Model of Quality Ladders (Grossman-Helpman ,1991; Aghion and Howitt 1992)</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introduction" class="level2" data-number="11.1">
<h2 data-number="11.1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">11.1</span> Introduction</h2>
<p>In this chapter, we present another version of technological change modelling, i.e.&nbsp;vertical innovations. Instead of seeing new varieties as the result of innovations (e.g.&nbsp;development of DVD products), vertical innovations explains the increase in quality of existing goods (e.g.&nbsp;from DVD to Blu-Ray). This has led to the so-called Schumpeterian Growth literature as the augmented-quality goods replace existing goods.</p>
</section>
<section id="the-model" class="level2" data-number="11.2">
<h2 data-number="11.2" class="anchored" data-anchor-id="the-model"><span class="header-section-number">11.2</span> The Model</h2>
<ul>
<li>A multi-sector model of R&amp;D-based endogenous growth that is driven by “creative destruction.”</li>
<li>There are two factors of production: a fixed amount of labour and fixed number, <span class="math inline">\(N\)</span>, of capital good types. Within each variety <span class="math inline">\(j\)</span>, capital goods differ in their quality.</li>
<li>Qualities are of distance <span class="math inline">\(q&gt;1\)</span> of each other. The best quality within every sector <span class="math inline">\(j\)</span> is <span class="math inline">\(q^{\kappa_{j}}\)</span>, where <span class="math inline">\(\kappa_{j} \in \mathbb{N} \cup\{0\}\)</span>. The initial quality is normalized to one <span class="math inline">\(\left(\left.\kappa_{j}\right|_{\kappa=0}=1\right)\)</span>.</li>
<li>The R&amp;D sector produces “blueprints” for improved quality capital goods of each known variety. The input to the <span class="math inline">\(\mathrm{R} \&amp; \mathrm{D}\)</span> production is investment in units of the final output. For the variety <span class="math inline">\(j\)</span> of quality <span class="math inline">\(\kappa_{j}\)</span>, the <span class="math inline">\(\mathrm{R} \&amp; \mathrm{D}\)</span> expenditures are <span class="math inline">\(Z_{j \kappa_{j}}\)</span>. The output of the <span class="math inline">\(\mathrm{R} \&amp; \mathrm{D}\)</span> production is uncertain. The <span class="math inline">\(\mathrm{R} \&amp; \mathrm{D}\)</span> expenditures result in the new variety <span class="math inline">\(\left(\kappa_{j}+1\right)\)</span> with probability <span class="math inline">\(p_{j \kappa_{j}}\)</span>. The technology of <span class="math inline">\(\mathrm{R} \&amp; \mathrm{D}\)</span> production is linear in <span class="math inline">\(\mathrm{R} \&amp; \mathrm{D}\)</span> investment,</li>
</ul>
<p><span id="eq-technologybp"><span class="math display">\[
p_{j \kappa_{j}}=\phi\left(\kappa_{j}\right) Z_{j \kappa_{j}}
\tag{11.1}\]</span></span></p>
<p>As quality improves, new discoveries become more expensive in terms of the required investment of resources, i.e., <span class="math inline">\(\phi^{\prime}\left(\kappa_{j}\right)&lt;0\)</span> gives diminishing returns to R&amp;D input. As the probability depends only on the current quality level, it suggests that innovation occurs like a Poisson process.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Linearity implies absence of congestion. Innovation in each sector is “jumpy” (takes place in a discreet manner), however the existence of many sectors and the Law of Large Numbers ensures a smooth outcome at the aggregate level.</p>
</div>
</div>
<ul>
<li>The discovery of a better quality capital good of a particular variety provides an entrepreneur with monopoly rights over the use of the “blueprint.” He produces the distinct capital variety with a linear technology that transforms one unit of final output into one unit of capital good.</li>
<li>There is free entry into the capital goods industry.</li>
<li>The final good sector operates under perfect competition. It combines labour, <span class="math inline">\(L\)</span>, with qualityadjusted input <span class="math inline">\(\tilde{X}_{j}\)</span> of every variety <span class="math inline">\(j\)</span> of the existent (fixed) set of capital varieties, <span class="math inline">\(j \in\{1, \ldots, N\}\)</span>, i.e.,</li>
</ul>
<p><span class="math display">\[
Y=A L^{1-\alpha} \sum_{j=1}^{N} \tilde{X}_{j}^{\alpha}
\]</span></p>
<p>There is additive separability in all varieties of capital and all of them are used in the final good production due to standard neoclassical function assumptions (Inada conditions). - Different qualities of capital goods of a variety <span class="math inline">\(j\)</span> are perfect substitutes of each other. Hence, if <span class="math inline">\(\kappa_{j}\)</span> is the best quality known, the total input employed in the final good sector of the <span class="math inline">\(j\)</span> th capital good variety is:</p>
<p><span class="math display">\[
\tilde{X}_{j}=\sum_{k=0}^{\kappa_{j}} q^{k} x_{j k}
\]</span> - It is assumed here that only the highest quality capital good survives of each variety of capital goods, hence</p>
<p><span class="math display">\[
\tilde{X}_{j}=q^{\kappa_{j}} x_{j \kappa_{j}}
\]</span></p>
<p>This “guess” regarding the properties of the equilibrium path is to be verified below, by examining the conditions that support it.</p>
<p>Note: The survival of the best quality only across sectors means that the model features technological obsolescence. This results in that the decision to conduct research in order to invent a better quality capital good is based on two forces. First, the discovery is to be overtaken by another researcher in the future (this decreases incentives for research). Second, the discovery of an improved quality capital good implies that there will be a transfer of the monopoly rent from the previous best-quality discovery owner (this increases the incentives for research). - From the consumption-side, the representative HH chooses its consumption and assets to maximize its intertemporal utility: <span class="math inline">\(\int_{0}^{\infty} u(C) e^{-\rho t} d t\)</span> subject to the standard budget constraint.</p>
<ul>
<li>All capital goods depreciate fully within one period.</li>
<li>No population growth.</li>
</ul>
</section>
<section id="market-equilibrium" class="level2" data-number="11.3">
<h2 data-number="11.3" class="anchored" data-anchor-id="market-equilibrium"><span class="header-section-number">11.3</span> Market equilibrium</h2>
<section id="final-goods-production" class="level3" data-number="11.3.1">
<h3 data-number="11.3.1" class="anchored" data-anchor-id="final-goods-production"><span class="header-section-number">11.3.1</span> Final goods production</h3>
<p>The final good producers maximize their profits taking the price of their inputs, labour <span class="math inline">\((w)\)</span> and capital goods <span class="math inline">\(\left(P_{j} \kappa_{j}, \forall j\right)\)</span> as given. Standard conditions imply that:</p>
<p><span class="math display">\[
\begin{aligned}
F_{L} &amp; =\frac{\partial Y}{\partial L}=(1-\alpha) \frac{Y}{L}=w \\
F_{X_{j \kappa_{j}}} &amp; =\frac{\partial Y}{\partial x_{j \kappa_{j}}}=A \alpha L^{1-\alpha} x_{j \kappa_{j}}^{\alpha-1} q^{\alpha \kappa_{j}}=P_{j} \kappa_{j} ; \forall j
\end{aligned}
\]</span></p>
</section>
<section id="capital-goods-production" class="level3" data-number="11.3.2">
<h3 data-number="11.3.2" class="anchored" data-anchor-id="capital-goods-production"><span class="header-section-number">11.3.2</span> Capital goods production</h3>
<p>Each capital good producer, within every period maximizes its profits, <span class="math inline">\(\pi_{j \kappa_{j}}\)</span>, by selecting its price, <span class="math inline">\(P_{j} \kappa_{j}\)</span>, and quantity of production, <span class="math inline">\(x_{j \kappa_{j}}\)</span>. For every unit of capital that it produces, it needs to invest one unit of final good that it “borrows” from HH at the current output price, i.e.,</p>
<p><span class="math display">\[
\pi_{j \kappa_{j}}=P_{j} \kappa_{j} x_{j \kappa_{j}}-x_{j \kappa_{j}}
\]</span></p>
<p>The monopolist takes as given the price of the output it uses in its production and the demand that its good is facing from the final good producers, i.e., its problem is</p>
<p><span class="math display">\[
\begin{aligned}
&amp; \max _{P_{j} \kappa_{j}, X_{j \kappa_{j}}} \pi_{j \kappa_{j}} \\
&amp; \text { s.t. } \\
&amp; P_{j} \kappa_{j}=A \alpha L^{1-\alpha} x_{j \kappa_{j}}^{\alpha-1} q^{\alpha \kappa_{j}}
\end{aligned}
\]</span></p>
<p>The FOCs of this optimal program imply</p>
<p><span class="math display">\[
\begin{aligned}
x_{j \kappa_{j}} &amp; =L A^{\frac{1}{1-\alpha}} Q^{\frac{2}{1-\alpha}} q^{\frac{\alpha}{1-\alpha} \kappa_{j}} \\
P_{j \kappa_{j}} &amp; =\frac{1}{\alpha}
\end{aligned}
\]</span></p>
<p>:::{.callout-note} It was assumed that only the best available quality is available within each type of capital good. Suppose instead that this was not the case and the second-best quality is also available. The marginal product of any two consecutive qualities differs by their quality difference, i.e., by a factor of <span class="math inline">\(q\)</span>, which means that the price differential supported by the market equilibrium between the first and second highest quality is: <span class="math inline">\(\frac{P_{j \kappa_{j}}}{P_{j \kappa_{j}-1}}=q\)</span>. Therefore, the monopoly producer of the second highest quality can at most charge <span class="math inline">\(P_{j \kappa_{j}-1}=\frac{1}{\alpha q}\)</span>. If <span class="math inline">\(\alpha q&gt;1\)</span>, then the second best quality producer cannot cover with such price its marginal cost of production and is driven out of the market. Alternatively, if <span class="math inline">\(\alpha q&lt;1\)</span>, the result that only the leading technology survives within each variety can still be an equilibrium outcome, where the leader follows limit pricing. In such case it charges <span class="math inline">\(P_{j} \kappa_{j}=q-\varepsilon\)</span> <span class="math inline">\((\varepsilon \rightarrow+0)\)</span> and the next quality producer then could charge <span class="math inline">\(1-\frac{\varepsilon}{q}&lt;1\)</span>. :::</p>
<p>With the leading technology only, then the final output production in equilibrium is described by</p>
<p><span class="math display">\[
\begin{aligned}
Y &amp; =A L^{1-\alpha} \sum_{j=1}^{N} q^{\alpha \kappa_{j}} x_{j \kappa_{j}}^{\alpha} \\
&amp; =L A^{\frac{1}{1-\alpha}} \alpha^{\frac{2 \alpha}{1-\alpha}} \sum_{j=1}^{N} q^{\frac{\alpha}{1-\alpha} \kappa_{j}}
\end{aligned}
\]</span></p>
</section>
<section id="the-r-d-sector" class="level3" data-number="11.3.3">
<h3 data-number="11.3.3" class="anchored" data-anchor-id="the-r-d-sector"><span class="header-section-number">11.3.3</span> the <span class="math inline">\(R\&amp; D\)</span> Sector</h3>
<p>Given the equilibrium outcome of the capital goods, labour and final output market, the next step is to examine the decision of the entrepreneurs to conduct <span class="math inline">\(\mathrm{R} \&amp; \mathrm{D}\)</span> for the discovery of the <span class="math inline">\(\kappa_{j+1}\)</span> quality of every type of capital good. Access to the market is free, therefore, every entrepreneur should be in the limit equating his cost in investing in <span class="math inline">\(\mathrm{R} \&amp; \mathrm{D}\)</span> with his expected profit.</p>
<p>The cost of <span class="math inline">\(\mathrm{R} \&amp; \mathrm{D}\)</span> is the investment in terms of current output, <span class="math inline">\(Z_{j \kappa_{j}}\)</span>. The probability of a successful innovation of the quality <span class="math inline">\(\kappa_{j}+1\)</span> is <span class="math inline">\(p_{j \kappa_{j}}\)</span> while the expected value from it is <span class="math inline">\(V_{j \kappa_{j}+1}\)</span>. More rigorously, <span class="math inline">\(V_{j \kappa_{j}+1}\)</span> is the expected present value of the profit flows of the producer of <span class="math inline">\(\kappa_{j}+1\)</span>, which within every period is <span class="math inline">\(\pi_{j \kappa_{j}+1}=\frac{1-\alpha}{\alpha} x_{j \kappa_{j}+1}\)</span>, until its position is overtaken by the discovery of the next quality of the same type of capital good. The latter depends on the probability of the discovery of the next higher quality, <span class="math inline">\(p_{j \kappa_{j}+1}\)</span>. Therefore, the successful innovator of the <span class="math inline">\(\kappa_{j}+1\)</span> quality has <span class="math inline">\(V_{j \kappa_{j}+1}\)</span> that satisfies in equilibrium:</p>
<p><span id="eq-value"><span class="math display">\[
\begin{aligned}
r V_{j \kappa_{j}+1} &amp; =\pi_{j \kappa_{j}+1}-p_{j \kappa_{j}+1} V_{j \kappa_{j}+1} \\
&amp; \Longrightarrow V_{j \kappa_{j}+1}=\frac{\pi_{j \kappa_{j}+1}}{r+p_{j \kappa_{j+1}}}
\end{aligned}
\tag{11.2}\]</span></span></p>
<p>The last condition is essentially an arbitrage condition. The entrepreneur should be indifferent between lending <span class="math inline">\(V_{j \kappa_{j}+1}\)</span> units of output and earning the market interest rate, i.e.&nbsp;<span class="math inline">\(r V_{j \kappa_{j}+1}\)</span> and holding the firm that provides him with a profit flow, <span class="math inline">\(\pi_{j \kappa_{j}+1}\)</span>, and there is a probability that at the end of the period he loses the value of its firm because it is overtaken by a new higher quality product (i.e., its capital loss will be <span class="math inline">\(-V_{j \kappa_{j}+1}\)</span> ).</p>
<p>Therefore, given that there is free entry into capital goods sector in equilibrium</p>
<p><span class="math display">\[
p_{j \kappa_{j}} V_{j \kappa_{j}+1}=Z_{j \kappa_{j}}
\]</span></p>
<p>From this condition and the <span class="math inline">\(R \&amp; D\)</span> production function (<a href="#eq-technologybp" class="quarto-xref"><span>11.1</span></a>) together with (<a href="#eq-value" class="quarto-xref"><span>11.2</span></a>) it follows that</p>
<p><span class="math display">\[
p_{j \kappa_{j}+1}=\phi\left(\kappa_{j}\right) \pi_{j \kappa_{j}+1}-r
\]</span></p>
<p>Therefore, the equilibrium probability of a new innovation is influenced by two forces</p>
<ol type="1">
<li><p>A higher quality of a type of capital variety implies higher demand for this type of capital and thereby higher profits for the successful innovator.</p></li>
<li><p>The marginal cost of discovering a higher quality capital variety increases.</p></li>
</ol>
<p>When the positive effect dominates, newer sectors grow faster than older ones, i.e.&nbsp;there are increasing returns to scale. When the negative effect dominates there is convergence to à la Ramsey. When the two effects balance each other out (i.e.&nbsp;when there are CRS), there is balanced growth in all sectors.</p>
</section>
</section>
<section id="balanced-growth-path" class="level2" data-number="11.4">
<h2 data-number="11.4" class="anchored" data-anchor-id="balanced-growth-path"><span class="header-section-number">11.4</span> Balanced growth path</h2>
<p>All variables of the model need to grow at constant rates (BGP). A specification for <span class="math inline">\(\phi\left(\kappa_{j}\right)\)</span> that ensures balanced growth is the following</p>
<p><span class="math display">\[
\phi\left(\kappa_{j}\right)=\frac{1}{\zeta} q^{-\left(\kappa_{j}+1\right) \frac{\alpha}{1-\alpha}}
\]</span></p>
<p>This implies that the free-entry condition boils down to</p>
<p><span class="math display">\[
\frac{1}{\zeta} \frac{1-\alpha}{\alpha} L A^{\frac{1}{1-\alpha}} \alpha^{\frac{2}{1-\alpha}}=r+p_{j \kappa_{j}+1}=r+p
\]</span></p>
<p>Note that this specification was chosen in order to eliminate the asymmetry across the different sectors of the economy, given that it is sufficient for a constant probability of new innovations taking place across all sectors. The equilibrium R&amp;D investment is</p>
<p><span class="math display">\[
Z_{j \kappa_{j}}=\frac{p}{\frac{1}{\zeta} q^{-\left(\kappa_{j}+1\right) \frac{\alpha}{1-\alpha}}}=q^{\left(\kappa_{j}+1\right) \frac{\alpha}{1-\alpha}}\left(\frac{1-\alpha}{\alpha} L A^{\frac{1}{1-\alpha}} \alpha^{\frac{2}{1-\alpha}}-r \zeta\right)
\]</span></p>
<p>Note that there are scale effects in this model, as larger sectors spend more on R&amp;D.</p>
<p>Define the aggregate quality index as</p>
<p><span class="math display">\[
Q \equiv \sum_{j=1}^{N} q^{\kappa_{j} \frac{\alpha}{1-\alpha}}
\]</span></p>
<p>Then, the aggregate output and quantity of capital goods are given by</p>
<p><span class="math display">\[
\begin{aligned}
&amp; Y=L A^{\frac{1}{1-\alpha}} \alpha^{\frac{2 \alpha}{1-\alpha}} Q \\
&amp; X=\sum_{j=1}^{N} X_{j \kappa_{j}}=L A^{\frac{1}{1-\alpha}} \alpha^{\frac{2}{1-\alpha}} Q
\end{aligned}
\]</span></p>
<p>Aggregate R&amp;D expenditures are</p>
<p><span class="math display">\[
Z=\sum_{j=1}^{N} Z_{j \kappa_{j}}=\left(\frac{1-\alpha}{\alpha} L A^{\frac{1}{1-\alpha}} \alpha^{\frac{2}{1-\alpha}}-r \zeta\right) q^{\frac{\alpha}{1-\alpha}} Q
\]</span></p>
<p>Aggregate output, capital and <span class="math inline">\(\mathrm{R} \&amp; \mathrm{D}\)</span> expenditures are proportional to the quality index <span class="math inline">\(Q\)</span>, which is itself function of time. Therefore, in steady-state</p>
<p><span class="math display">\[
g_{Y}=g_{Z}=g_{X}=g_{Q} \equiv g
\]</span></p>
<p>The resource constraint of this economy is</p>
<p><span class="math display">\[
Y=C+X+Z
\]</span></p>
<p>implying that in the steady-state it is also true that</p>
<p><span class="math display">\[
g_{C}=g
\]</span></p>
<p>On average in the economy in all different capital goods “industries”, at every point in time, an innovation of a higher quality capital good takes place with probability <span class="math inline">\(p\)</span>. Therefore, for a large <span class="math inline">\(N\)</span> the Law of Large Numbers provides with the growth rate</p>
<p><span class="math display">\[
g^{*} \approx E\left(\frac{\Delta Q}{Q}\right)=\frac{\sum_{j=1}^{N} p\left(q^{\left(\kappa_{j}+1\right) \frac{\alpha}{1-\alpha}}-q^{\kappa_{j} \frac{\alpha}{1-\alpha}}\right)}{\sum_{j=1}^{N} q^{\kappa_{j} \frac{\alpha}{1-\alpha}}}=p\left(q^{\frac{\alpha}{1-\alpha}}-1\right)
\]</span></p>
<p>This growth rate is implied from the production-side of the economy. It is negatively related to <span class="math inline">\(r\)</span> since <span class="math inline">\(p=\frac{1}{\zeta} \frac{1-\alpha}{\alpha} L A^{\frac{1}{1-\alpha}} \alpha^{\frac{2}{1-\alpha}}-r\)</span>. On the other hand, the standard optimization condition for the representative household gives a positive relation between the growth rate of the economy and the real return on assets, <span class="math inline">\(g=\frac{1}{\theta}(r-\rho)\)</span>. Therefore, the equilibrium interest rate and growth rate are</p>
<p><span class="math display">\[
\begin{aligned}
r &amp; =\theta p\left(q^{\frac{\alpha}{1-\alpha}}-1\right)+\rho \\
&amp; =\frac{\theta\left(q^{\frac{\alpha}{1-\alpha}}-1\right) \frac{1}{\zeta} \frac{1-\alpha}{\alpha} L A^{\frac{1}{1-\alpha}} \alpha^{\frac{2}{1-\alpha}}+\rho}{1+\theta\left(q^{\frac{\alpha}{1-\alpha}}-1\right)} \\
g &amp; =\frac{1}{\theta}\left(r^{*}-\rho\right)
\end{aligned}
\]</span></p>
<p>TVC is satisfied for parameters that ensure <span class="math inline">\(r&gt;g\)</span>.</p>
</section>
<section id="further-comments" class="level2" data-number="11.5">
<h2 data-number="11.5" class="anchored" data-anchor-id="further-comments"><span class="header-section-number">11.5</span> Further comments</h2>
<p>The decentralized equilibrium in this model does not achieve first best allocations due to the following distortions</p>
<ol type="1">
<li><p>Monopoly pricing in the capital goods sector,</p></li>
<li><p>Obsolescence of the lower quality capital goods.</p></li>
</ol>
<p>The first distortion implies that there is low investment and growth in the economy. The second implies that when a new innovation is made, then the successful innovator takes over the profits made by the previous leader in the particular type of capital variety. This “rat race” effect boosts the incentive to conduct <span class="math inline">\(R \&amp; D\)</span> for the purpose of product innovation. At the same time though, for the same potential innovator there is positive probability that himself will be overtaken by the next discovery, which reduces the incentives for R&amp;D. Because of discounting, as current profits matter more than future ones, the outcome is that in equilibrium there is more than optimal <span class="math inline">\(R \&amp; D\)</span> investment, which would tend to increase growth. The net effect of the two distortions is ambiguous.</p>
<p>The decentralized growth rate will be equal to the social planner’s one when relative prices are corrected and the successful innovators compensate their immediate predecessors for the loss of their monopoly rents. In the case that all innovations are conducted by the leaders in each sector, i.e.&nbsp;when there is no need for compensation, equilibrium <span class="math inline">\(R \&amp; D\)</span> would be too low. If instead relative prices are corrected, but no compensation is offered, then <span class="math inline">\(R \&amp; D\)</span> would be too high.</p>
<p>Contrast with Romer (1990) The horizontal expansion in the capital good varieties model may be better suited for large-scale inventions (e.g.&nbsp;the ones implying the establishment of a new industry). The vertical expansion of every variety of capital goods is better suited to account for the smaller and gradual improvements in the quality of the capital goods.</p>
<p>On the one hand, both of these endogenous growth models share key features and thereby predictions. In both models, the production-side equilibrium implies that the interest rate has a negative growth effect as it reduces the present discounted value of the expected profits from innovations. Also, both models “suffer” from scale-effects. The engine of long-run growth is the R&amp;D production that is conducted given market-based incentives. Noteworthy, the organizational capital/institutional level of the economy, as captured by the term <span class="math inline">\(A\)</span> in the aggregate production function, has not only a level effect (as in Solow), but a permanent growth effect.</p>
<p>On the other hand, there are important differences in their specifications. Romer’s model lacks the feature of creative destruction as it assumes that the different varieties are not direct substitutes or complements. As a result, in the decentralized equilibrium the R&amp;D effort cannot be too high.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./horizontal-innovations.html" class="pagination-link" aria-label="Horizontal Innovations and Model of Expanding Varieties (Romer, 1990)">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Horizontal Innovations and Model of Expanding Varieties (Romer, 1990)</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->




</body></html>